{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Topic Detail</title>
  </head>
  <body>
    <h1>Categories for Topic {{ topic_id }}</h1>
    <div id="category-list" class="row"></div>

    <script>
      const topicId = "{{ topic_id }}";
      const apiUrl = `http://time-series.mopd.gov.et/api/mobile/topic-detail/${topicId}/`;

      fetch(apiUrl)
        .then((response) => response.json())
        .then((data) => {
          if (data.data && Array.isArray(data.data)) {
            const cards = data.data.map(
              (cat) => `
            <div class="col-md-4">
              <div class="card">
                <img src="${
                  cat.image
                    ? "http://time-series.mopd.gov.et" + cat.image
                    : "https://via.placeholder.com/300x200"
                }" class="card-img-top" alt="${cat.category_name}">
                <div class="card-body">
                  <h5>${cat.category_name}</h5>
                </div>
              </div>
            </div>
          `
            );
            document.getElementById("category-list").innerHTML = cards.join("");
          } else {
            document.getElementById("category-list").innerHTML =
              "<p>No categories found.</p>";
          }
        })
        .catch((error) => console.error("Error fetching data:", error));
    </script>
  </body>
</html>


<div class="card-body"><div class="d-flex align-items-center justify-content-between mb-3"><div class="avtar avtar-s bg-light-secondary"><i class="ti ti-currency-dollar f-20"></i></div><div class="dropdown"><a class="avtar avtar-s btn-link-secondary dropdown-toggle arrow-none" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="ti ti-dots-vertical f-18"></i></a><div class="dropdown-menu dropdown-menu-end"><a class="dropdown-item" href="#">Name</a> <a class="dropdown-item" href="#">Date</a> <a class="dropdown-item" href="#">Ratting</a> <a class="dropdown-item" href="#">Unread</a></div></div></div><h5 class="mb-0">$30,200.00</h5><p class="text-muted mb-0">Income</p><div class="mt-2"><div id="income-graph" class="" style="min-height: 80px;"><div id="apexchartsme4lxondf" class="apexcharts-canvas apexchartsme4lxondf apexcharts-theme-light" style="width: 369px; height: 80px;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" class="apexcharts-svg" xmlns:data="ApexChartsNS" transform="translate(0, 0)" width="369" height="80"><foreignObject x="0" y="0" width="369" height="80"><style type="text/css">
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    